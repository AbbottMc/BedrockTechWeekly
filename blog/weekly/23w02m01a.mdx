---
slug: latest
authors: [QianShanyao]
tags: [Minecraft, åŸºå²©ç‰ˆ, å¼€å‘, å‘¨åˆŠ, 2023å¹´, 02æœˆ, ç¬¬ä¸€å‘¨]
---

# [2023w02m01a] å‘½ä»¤è„šæœ¬ç§»é™¤dataï¼Œè„šæœ¬æŽ¥å£æ—¥å¸¸æ›´æ–°

:::info ç‰ˆæœ¬æ›´æ–°
æœ¬å‘¨å®˜æ–¹æ›´æ–°äº†1.19.70.21ç‰ˆæœ¬ï¼Œ[ç‚¹å‡»è¿™é‡Œ](/docs/backup/preview/1.19.70.21)æŸ¥çœ‹å®˜æ–¹æŠ€æœ¯æ›´æ–°æ—¥å¿—
:::

å„ä½æ›´æ–°å¥½ï¼Œåˆåˆ°äº†ä¸€å‘¨ä¸€æ¬¡çš„é¢„è§ˆç‰ˆæ›´æ–°ï¼Œæœ¬å‘¨çš„é¢„è§ˆç‰ˆåœ¨æŠ€æœ¯æ›´æ–°æ–¹é¢ä¸»è¦æ¶‰åŠå‘½ä»¤ã€æ•°é©±å’Œè„šæœ¬ä¸‰ä¸ªæ–¹é¢çš„å†…å®¹ï¼Œå¤§ä½“ä¸Šè¿˜æ˜¯æ—¥å¸¸å°æ”¹å°åŠ¨ã€‚ä¸è¿‡è¯è™½å¦‚æ­¤ï¼Œå…¶ä¸­ä¹Ÿä¸ä¹ä¸€äº›å¯èƒ½å­˜åœ¨æ·±è¿œå½±å“çš„æ›´æ”¹ã€‚é‚£ä¹ˆæŽ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹æœ¬å‘¨å®˜æ–¹åˆç»™æˆ‘ä»¬æ›´æ–°äº†ä»€ä¹ˆæ–°ç‰¹æ€§å§ï¼

## æœ¬å‘¨åŠ¨æ€é€Ÿé€’

- ðŸŽ›ï¸ å‘½ä»¤ä¸Žè„šæœ¬ç§»é™¤ç‰©å“dataå‚æ•°ï¼Œæ‰å¹³åŒ–æ–°é˜¶æ®µï¼Ÿ
- ðŸ“œ æ–¹å—åŠ è½½è§„åˆ™æ›´åŠ æ—¥å¸¸è§„èŒƒåŒ–ï¼Œå‚æ•°ç±»åž‹ä¸ç¬¦ç›´æŽ¥ç‚¸ã€‚
- ðŸ—‘ï¸ å·¥ä½œå°ç»„ä»¶å†™æ³•ç®€åŒ–ï¼Œå’Œ `tile` è¯´å†è§ã€‚
- ðŸ”Œ å‡½æ•°ç§»é™¤ã€å‚æ•°ç±»åž‹æ›´æ”¹ï¼Œè„šæœ¬æŽ¥å£æ—¥å¸¸å˜åŠ¨ã€‚
- ðŸ¦¦ è„šæœ¬æŽ¥å£ `Player#playAnimation` å‡½æ•°åŠ å…¥ã€‚

## ä¸€ã€dataé€€å‡ºåŽ†å²èˆžå°ï¼Œæ‰å¹³åŒ–è¿›å…¥æ–°é˜¶æ®µï¼Ÿ

æœ¬å‘¨çš„é¢„è§ˆç‰ˆä¸­ï¼Œå®˜æ–¹ç§»é™¤äº†å¯¹1.19.70ç‰ˆæœ¬ä»¥ä¸Šçš„`/clone`ã€`/execute`ã€`/fill`ã€`/setblock` å’Œ `/testforblock` å‘½ä»¤ä»¥åŠè„šæœ¬æŽ¥å£çš„ `ItemStack` ç±»ä¸­dataå­—æ®µçš„æ”¯æŒã€‚åŒæ—¶åœ¨è„šæœ¬æ–¹é¢æä¾›äº†é€šè¿‡å­—ç¬¦ä¸²æ–°å»º`ItemStack`å¯¹è±¡çš„æ–¹å¼ã€‚è¿™äº›ä¸¾æŽªå¯¹å¼€å‘è€…æœªæ¥çš„å‘½ä»¤ä¸Žè„šæœ¬ç¼–å†™å½±å“è¿˜æ˜¯å¾ˆå¤§çš„ã€‚

### å‘½ä»¤

é¦–å…ˆæ˜¯å‘½ä»¤æ–¹é¢ï¼Œè¿™é‡Œæˆ‘ä»¬å€Ÿå®˜æ–¹ç»™å‡ºçš„ä¾‹å­æ¥ç®€å•ä½“ä¼šä¸€ä¸‹ï¼š

åœ¨ä»¥å¾€å¦‚æžœæˆ‘ä»¬æƒ³è¦æ”¾ç½®ä¸€ä¸ªæ©™è‰²çš„ç¾Šæ¯›ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥è¿›è¡Œæ”¾ç½®ï¼š

````typescript
/setblock ~ ~ ~ minecraft:wool 1
````

å…¶ä¸­woolåŽè·Ÿç€çš„1å°±æ˜¯æ©™è‰²ç¾Šæ¯›çš„dataå€¼ï¼Œè€ŒçŽ°åœ¨ï¼Œè¿™ç§å†™æ³•å°†ä¸å†æ”¯æŒã€‚

å¦‚æžœæ‚¨å°±æ˜¯ä¸ä¿¡è¿™ä¸ªé‚ªï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­ä½¿ç”¨äº†ä¸Šè¿°å†™æ³•ï¼Œåˆ™æ‚¨ä¼šå¾—åˆ°å¦‚ä¸‹æŠ¥é”™ï¼š

![setblockå¤±è´¥](./img/23w02m01a/setblock_failed_in_preview.png)

é€šè¿‡æŠ¥é”™ä¿¡æ¯æˆ‘ä»¬å¯ä»¥æ˜Žç™½ï¼Œé—®é¢˜å‡ºåœ¨è¿™ä¸ªâ€œ1â€ä¸Šï¼Œæ¢è¨€ä¹‹ï¼Œæ¸¸æˆå¼•æ“Žå·²ç»ä¸è®¤è¯†è¿™ä¸ª`data`å‚æ•°äº†ã€‚

é‚£æ€Žä¹ˆåŠžå‘¢ï¼Ÿ

è¿™æ—¶å€™ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨çŠ¶æ€å‚æ•°æ¥å®Œæˆå’Œä¸Šé¢ç›¸åŒçš„æ“ä½œï¼š

 ````typescript
 /setblock ~ ~ ~ minecraft:wool ["color":"orange"]
 ````

å…¶ä¸­ `color` æ˜¯ç¾Šæ¯›æ–¹å—é¢œè‰²çŠ¶æ€çš„åç§°ã€‚å…·ä½“æ¯ä¸ªæ–¹å—éƒ½æœ‰ä»€ä¹ˆçŠ¶æ€ï¼Œå„ä½å¯ä»¥åœ¨å…¶å¯¹åº”çš„Minecraft Wikié¡µé¢ä¸­æ‰¾åˆ°ã€‚

æ‰§è¡ŒåŽå¾—åˆ°å¦‚ä¸‹ç»“æžœï¼š

![](./img/23w02m01a/setblock_succeed.png)

å¯ä»¥çœ‹åˆ°æ©™è‰²ç¾Šæ¯›è¢«é¡ºåˆ©æ”¾ç½®äº†ã€‚

### è„šæœ¬

è„šæœ¬æ–¹é¢ä¸»è¦æ˜¯ `ItemStack` ç±»ä¸­çš„ `data` å­—æ®µè¢«ç§»é™¤äº†ã€‚

åœ¨æ­¤ä¹‹å‰ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªçº¢æ²™ç‰©å“å †å å®žä¾‹ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼æž„é€ ï¼š

```typescript
import {MinecraftItemTypes, ItemStack} from '@minecraft/server';
// åˆ›å»ºä¸€ä¸ªæ•°é‡ä¸º1çš„çº¢æ²™ç‰©å“å †å å®žä¾‹
// ç›®å‰åŸºå²©ç‰ˆä¸­ï¼Œæ²™å­ä¸Žçº¢æ²™å…±ç”¨ä¸€ä¸ªæ–¹å—id
// æ²™å­çš„æ•°æ®å€¼ä¸º0ï¼Œçº¢æ²™çš„æ•°æ®å€¼ä¸º1
const itemStack = new ItemStack(MinecraftItemTypes.sand, 1, 1);
```

ä½†åœ¨æœ¬å‘¨çš„é¢„è§ˆç‰ˆä¸­ï¼Œå®˜æ–¹ç§»é™¤äº† `ItemStack` çš„ `data` å±žæ€§ä»¥åŠå…¶æž„é€ å‡½æ•°ä¸­çš„ `data` å‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒæ ·æ˜¯åˆ›å»ºä¸€ä¸ªçº¢æ²™ç‰©å“å †å å®žä¾‹ï¼Œæˆ‘ä»¬å†åƒä¸Šé¢é‚£æ ·å†™å°±ä¸è¡Œäº†ã€‚

è¿™æ—¶å€™æˆ‘ä»¬æœ‰æ²¡æœ‰å…¶ä»–æ–¹å¼èƒ½åˆ›å»ºçº¢æ²™ç‰©å“å †å å®žä¾‹å‘¢ï¼Ÿ

å¾ˆé—æ†¾ï¼Œç›®å‰æ¥è¯´ï¼Œç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚

çº¢æ²™ç›®å‰å¹¶æœªå®žçŽ° ID æ‰å¹³åŒ–ï¼Œä¸” `MinecraftItemTypes` ç±»ä¸­ä¹Ÿæ²¡æœ‰çº¢æ²™çš„ç‰©å“ç±»åž‹å®žä¾‹ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³è¦åˆ›å»ºçº¢æ²™ç‰©å“å †å å®žä¾‹æ˜¯æ²¡åŠžæ³•äº†ã€‚

ä½†åœ¨ä¸Žçº¢æ²™ç±»ä¼¼çš„ç‰©å“çš„èŽ·å–æˆ–è€…ç±»ä¼¼æ–¹å—çš„æ”¾ç½®è¿™å—ï¼Œä¾ç„¶å¯ä»¥é€šè¿‡å…¶ä»–æ›¿ä»£æ–¹æ³•æ¥æš‚æ—¶é¡¶ä¸€é˜µå­ã€‚

æ¯”æ–¹è¯´ï¼Œå‘½ä»¤ã€‚

:::tip è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯ä»¥çº¢æ²™ä¸ºä¾‹
```typescript title=ç‰©å“èŽ·å–
player.dimension.runCommandAsync(`/setblock ${player.location.x} ${player.location.y} ${player.location.z} minecraft:sand ["sand_type" : "red"]`);
```

å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ`/give` å‘½ä»¤çš„ `data` å­—æ®µåœ¨è¿™æ¬¡æ›´æ–°ä¸­å¹¶æœªè¢«ç§»é™¤ï¼Œè‡³äºŽè¿™æ˜¯æ¼ç½‘ä¹‹é±¼è¿˜æ˜¯å®˜æ–¹åˆ»æ„ä¸ºä¹‹ï¼Œæˆ‘ä»¬å°±ä¸å¾—è€ŒçŸ¥äº†ã€‚

```typescript title=æ–¹å—æ”¾ç½®
player.dimension.runCommandAsync(`/give ${player.name} sand 1 1`);
```
ä¸è¿‡ç›®å‰å‘½ä»¤éƒ½æ˜¯å¼‚æ­¥çš„ä¸”å­˜åœ¨æ¯æ¸¸æˆåˆ»æ‰§è¡Œæ¬¡æ•°ä¸Šé™ï¼ˆ128æ¬¡/æ¸¸æˆåˆ»ï¼‰ï¼Œæ•…è€Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­å¤§å®¶è¿˜å¾—æ ¹æ®å®žé™…æƒ…å†µæ¥é€‰ç”¨ã€‚

:::


å½“ç„¶æœ€å¥½çš„æ–¹æ¡ˆè‡ªç„¶è¿˜æ˜¯ç­‰å¾…å®˜æ–¹å®Œå–„è¿™éƒ¨åˆ†çš„å†…å®¹ï¼Œæ¯•ç«Ÿæ˜¯1.19.70ç‰ˆæœ¬çš„ç¬¬ä¸€ä¸ªé¢„è§ˆç‰ˆï¼Œæœ‰äº›ä¸å®Œå–„ä¹Ÿå±žæ­£å¸¸ï¼Œå…³é”®è¿˜æ˜¯åœ¨äºŽå®˜æ–¹åŽç»­ä¼šå¦‚ä½•æ›´æ–°ã€‚

### ç»“è¯­

ä»ŽæŸç§è§’åº¦æ¥è¯´ï¼Œå®˜æ–¹è¿™æ¬¡å°† `data` å­—æ®µç§»é™¤å¯ä»¥è¯´æ˜¯åœ¨æ‰å¹³åŒ–æ–¹é¢å‘å‰è¿ˆäº†å¾ˆå¤§ä¸€æ­¥ï¼Œè¿™æ„å‘³ç€å¼€å‘è€…å’ŒçŽ©å®¶ä»¬çŽ°åœ¨åªèƒ½é€šè¿‡çŠ¶æ€å‚æ•°ã€ç‰©å“æ–¹å—çš„æ ‡è¯†ç¬¦ä»¥åŠè„šæœ¬ä¸­çš„`MinecraftBlockTypes`ã€`MinecraftItemTypes`ç±»æ¥å®žçŽ°åŽŸç”Ÿæ–¹å—ç‰©å“çš„èŽ·å–ä¸Žæ“ä½œäº†ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»Žä¾§é¢çª¥è§ä¸€äº›å®˜æ–¹å¯¹åŸºå²©ç‰ˆæ‰å¹³åŒ–å·¥ä½œçš„å…³æ³¨ã€‚ä½†åœ¨åŸºå²©ç‰ˆæ–¹å—ç‰©å“IDå°šæœªå®Œå…¨æ‰å¹³åŒ–çš„å½“ä¸‹ï¼Œåœ¨å‘½ä»¤ä¸Žè„šæœ¬éƒ½æ²¡æœ‰å®žçŽ°ç›¸åº”è¡¥å…¨çš„æƒ…å†µä¸‹ï¼Œå°±å°† `data` å­—æ®µç§»é™¤ï¼Œä»Žè¿™ä¸ªè§’åº¦æ¥è¯´ï¼Œè¿™æ¬¡æ›´æ–°ä¼¼ä¹Žåˆç•¥æ˜¾ä»“ä¿ƒ......

ä½†ä¸ç®¡æ€Žä¹ˆè¯´ï¼Œè¿™å¯¹ç¤¾åŒºå¼€å‘è€…ä»¬åŽç»­å·¥ä½œçš„å½±å“æ˜¯å·¨å¤§çš„ï¼Œç‰¹åˆ«æ˜¯è„šæœ¬æ–¹é¢ï¼Œå¸Œæœ›å®˜æ–¹è‡³å°‘åœ¨ 1.19.70 æ­£å¼ç‰ˆæ›´æ–°å‰èƒ½ç»™å‡ºä¸€ä¸ªç›¸å¯¹å®Œå–„çš„è§£å†³æ–¹æ¡ˆå§ã€‚

## äºŒã€æ•°é©±æ—¥å¸¸å°ä¿®å°è¡¥ï¼Œä¼˜åŒ–ç¼–å†™ä½“éªŒ

åœ¨æœ¬å‘¨çš„é¢„è§ˆç‰ˆä¸­ï¼Œå®˜æ–¹åœ¨æ•°é©±æ–¹é¢ä¾æ—§æ˜¯å°ä¿®å°è¡¥ã€‚

åœ¨æ–¹å—æ•°é©±æ–¹é¢ï¼Œå½“æ ¼å¼ç‰ˆæœ¬ä¸º1.19.70ä»¥ä¸Šæ—¶ï¼Œå¦‚æžœæ–¹å—ç½®æ¢ä¸­ `"condition"` å­—æ®µçš„å±žæ€§å€¼ä¸æ˜¯ä¸€ä¸ªå¯ç”¨çš„ Molang å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¾¿ä¼šå¾—åˆ°ä¸€ä¸ªè¿™æ ·çš„æŠ¥é”™ï¼š



åŒæ—¶æ‚¨çš„æ–¹å—ä¹Ÿå°†åŠ è½½å¤±è´¥ã€‚

æ­¤å¤–ï¼Œè¿™æ¬¡æ›´æ–°è¿˜å¯¹ `minecraft:crafting_table` ç»„ä»¶åšå‡ºäº†ä¿®æ”¹ï¼Œå½“å·¥ä½œå°ç»„ä»¶ä½¿ç”¨æ–¹å—åç§°ä½œä¸ºå·¥ä½œå°åç§°æ—¶ï¼Œæœ¬åœ°åŒ–é”®åä¸å†éœ€è¦æ·»åŠ  "tile."ã€‚

è¿™é‡Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„èµ‹å‘½åç©ºé—´æ ‡è¯†ç¬¦ä¸ºï¼š`test:test_block` è‡ªå®šä¹‰æ–¹å—

```json
{
  "format_version": "1.19.50",
  "minecraft:block": {
    "description": {
      "identifier": "test:test_block"
    },
    "components": {
      "minecraft:crafting_table": {
        "crafting_tags": ["crafting_table", "custom_crafting_tag"]
      }
    }
  }
}
```

åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå½“æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªæ–¹å—çš„UIç•Œé¢ï¼Œå¾—åˆ°çš„æ˜¯è¿™æ ·çš„ä¸€å¹…ç”»é¢ï¼š

![æ—§ç‰ˆå·¥ä½œå°ç»„ä»¶é»˜è®¤æœ¬åœ°åŒ–é”®å](./img/23w02m01a/crafting_table_old.png)

å¯ä»¥çœ‹åˆ°ï¼Œå…¶æ ‡é¢˜é”®åä¸º `tile.test:test_block`

å¦‚æžœæˆ‘ä»¬å°†å…¶é€‚é…ç‰ˆæœ¬å·ä¿®æ”¹ä¸º `1.19.70` å¹¶åœ¨ `1.19.70.21` ç‰ˆæœ¬ä¸­åŠ è½½è¿™ä¸ªæ–¹å—ï¼Œè¿™æ—¶å€™å†æ‰“å¼€å®ƒçš„ UI ç•Œé¢ä¼šçœ‹åˆ°è¿™æ ·ä¸€å¹…ç”»é¢ï¼š

![æ–°ç‰ˆå·¥ä½œå°ç»„ä»¶é»˜è®¤æœ¬åœ°åŒ–é”®å](./img/23w02m01a/crafting_table_new.png)

å¯ä»¥çœ‹åˆ°ï¼Œå…¶æ ‡é¢˜é”®ååŽŸå…ˆå¼€å¤´çš„ `tile.` è¢«ç§»é™¤ï¼Œå˜ä¸ºäº† `test:test_block`ã€‚

## ä¸‰ã€è„šæœ¬æŽ¥å£æ›´æ–°ï¼Œå‡½æ•°å¢žåˆ ï¼Œå‚æ•°ç±»åž‹æ›´æ”¹

> å¾…æ–½å·¥
