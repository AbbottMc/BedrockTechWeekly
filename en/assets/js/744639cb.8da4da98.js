"use strict";(self.webpackChunkbedrock_tech=self.webpackChunkbedrock_tech||[]).push([[96147,43115],{12274:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>a});var r=i(74848),s=i(28453);i(74450);const t={},l=void 0,c={id:"changelog_source/preview/1.21/70/20/tech",title:"tech",description:"API - Scripting",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/changelog_source/preview/1.21/70/20/tech.mdx",sourceDirName:"changelog_source/preview/1.21/70/20",slug:"/changelog_source/preview/1.21/70/20/tech",permalink:"/en/docs/changelog_source/preview/1.21/70/20/tech",draft:!1,unlisted:!1,editUrl:"https://github.com/AbbottMc/BedrockTechWeekly/tree/master/docs/changelog_source/preview/1.21/70/20/tech.mdx",tags:[],version:"current",frontMatter:{}},o={},a=[{value:"API - Scripting",id:"api---scripting",level:2},{value:"@minecraft/server 1.18.0",id:"minecraftserver-1180",level:3},{value:"Biomes",id:"biomes",level:2},{value:"Blocks",id:"blocks",level:2},{value:"Components",id:"components",level:3},{value:"Components",id:"components-1",level:2},{value:"Editor",id:"editor",level:2},{value:"Entities",id:"entities",level:2},{value:"Jigsaw",id:"jigsaw",level:2},{value:"JSON Events",id:"json-events",level:2},{value:"Sounds",id:"sounds",level:2},{value:"API - Scripting",id:"api---scripting-1",level:2},{value:"@minecraft/server 2.0.0-beta",id:"minecraftserver-200-beta",level:3},{value:"API - Molang",id:"api---molang",level:2},{value:"Graphical",id:"graphical",level:2},{value:"Stability and Performance",id:"stability-and-performance",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"api---scripting",children:"API - Scripting"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Unhandled rejected promises in scripting now include callstacks when logged."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"minecraftserver-1180",children:"@minecraft/server 1.18.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Renamed\xa0",(0,r.jsx)(n.code,{children:"system.scriptEvent"}),"\xa0to\xa0",(0,r.jsx)(n.code,{children:"system.sendScriptEvent"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Moved\xa0",(0,r.jsx)(n.code,{children:"NamespaceNameErrorReason"}),"\xa0from beta to @minecraft/server 1.18.0"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Moved\xa0",(0,r.jsx)(n.code,{children:"system.sendScriptEvent"}),"\xa0from beta to @minecraft/server 1.18.0"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Moved\xa0",(0,r.jsx)(n.code,{children:"NamespaceNameError"}),"\xa0from beta to @minecraft/server 1.18.0"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Released\xa0",(0,r.jsx)(n.code,{children:"InputInfo.getButtonState"}),",\xa0",(0,r.jsx)(n.code,{children:"InputButton"}),", and\xa0",(0,r.jsx)(n.code,{children:"ButtonState"}),"\xa0to @minecraft/server 1.18.0"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Released\xa0",(0,r.jsx)(n.code,{children:"InputInfo.getMovementVector"}),"\xa0to @minecraft/server 1.18.0"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Released\xa0",(0,r.jsx)(n.code,{children:"PlayerButtonInputAfterEvent"}),",\xa0",(0,r.jsx)(n.code,{children:"AfterEvents.playerButtonInput"}),"\xa0and\xa0",(0,r.jsx)(n.code,{children:"InputEventOptions"}),"\xa0to @minecraft/server 1.18.0"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Several APIs have been given the Readonly permission, which allows them to now be called inside Before Event callbacks."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["All methods for\xa0",(0,r.jsx)(n.code,{children:"BlockVolume"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["All methods for\xa0",(0,r.jsx)(n.code,{children:"Vector"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Changed\xa0",(0,r.jsx)(n.code,{children:"spawnEntity"}),"\xa0method on\xa0",(0,r.jsx)(n.code,{children:"Dimension"}),"\xa0to now take a variant of either a string or\xa0",(0,r.jsx)(n.code,{children:"EntityType"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"placeFeature"}),"\xa0and\xa0",(0,r.jsx)(n.code,{children:"placeFeatureRule"}),"\xa0APIs to the\xa0",(0,r.jsx)(n.code,{children:"Dimension"}),"\xa0class"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"isValid"}),"\xa0property to the Camera class."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"biomes",children:"Biomes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Fix client_biome loading so grass_appearance and foliage_appearance settings are added if not specified when format_version is lower than 1.21.60 (",(0,r.jsx)(n.a,{href:"https://bugs.mojang.com/browse/MCPE-189816",children:"MCPE-189816"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"blocks",children:"Blocks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"water"}),"\xa0and\xa0",(0,r.jsx)(n.code,{children:"lava"}),"\xa0no longer will turn into\xa0",(0,r.jsx)(n.code,{children:"flowing_water"}),"\xa0or\xa0",(0,r.jsx)(n.code,{children:"flowing_lava"}),"\xa0when neighbor updates happen.\xa0",(0,r.jsx)(n.code,{children:"water"}),"\xa0and\xa0",(0,r.jsx)(n.code,{children:"lava"}),"\xa0now will respond to queued ticks without needing to change into another block"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The minecraft",":map","_color component underwent a schema change"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'It is now a JSON object with two fields "color" and "tint_method".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'"color" is a required string field expecting an HEX representation of the RGB, prefixed with a # character.'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'"tint_method" is a string field that multiplies the color with a predefined tint. Supported values are "none, "default_foliage", "birch_foliage", "evergreen_foliage", "grass" and "water".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["the old schema format is still supported for convenience.",(0,r.jsx)(n.br,{}),"\n","Examples:"]}),"\n",(0,r.jsxs)(n.p,{children:['"minecraft',":map_color",'": {\n"color": "#ABCDEF",\n"tint_method": "grass"\n}']}),"\n",(0,r.jsx)(n.p,{children:"or"}),"\n",(0,r.jsxs)(n.p,{children:['"minecraft',":map_color",'": {\n"color": "#ABCDEF"\n}']}),"\n",(0,r.jsx)(n.p,{children:"or"}),"\n",(0,r.jsxs)(n.p,{children:['"minecraft',":map_color",'": "#ABCDEF"']}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Added the 'minecraft",":replaceable","' component which determines if a new block can replace the existing block at a particular position. If the component is not added to a block it is not replaceable."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"components-1",children:"Components"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Multiple components that used effect durations can now be set to "infinite" including:'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:['"minecraft',":attack",'": "effect_duration"']}),"\n",(0,r.jsxs)(n.li,{children:['"minecraft',":healable",'": "duration" in the "effects" list']}),"\n",(0,r.jsxs)(n.li,{children:['"minecraft',":mob",'_effect": "effect_time"']}),"\n",(0,r.jsxs)(n.li,{children:['"minecraft',":projectile",'": "durationeasy", "durationnormal", and "durationhard" can now all use "infinite"']}),"\n",(0,r.jsxs)(n.li,{children:['"minecraft',":food",'": "duration" in the "effects" list']}),"\n",(0,r.jsxs)(n.li,{children:['"minecraft',":spell",'_effects": "duration" in the "add_effects" list']}),"\n",(0,r.jsxs)(n.li,{children:['"minecraft',":combat",'_regeneration": "regeneration_duration"']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"editor",children:"Editor"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Shulker box's textures are fixed in Block picker and lists"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Fixed a bug that excluded some blocks from block picker list with partial text search"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Block picker search text field will have UI focus when modal opens"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Line Tool: Left Click no longer clears the line if two points already exist. Left Click now behaves the same as Shift + Left Click and always adds points to the existing line."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Added cursor support for selecting invisible blocks when the Show Invisible Blocks setting is enabled"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"IPropertyPane.addProgressIndicator"}),"\xa0API function to display a spinner or a progress bar property item"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"ImageAnimationData"}),"\xa0API type to represent a sprite sheet animation for images"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"iconAnimation: ImageAnimationData"}),"\xa0property to\xa0",(0,r.jsx)(n.code,{children:"IActionBarItemCreationParams"}),"\xa0API"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"IPropertyPane.addLink"}),"\xa0API function to create link buttons in panes."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"system.isEditorWorld"}),"\xa0property into @minecraft/server in beta"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Now using minecraft/server 2.0.0-beta, see API section for more details on 2.0.0-beta."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"registerEditorExtension"}),"\xa0can be called in Early Execution."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"entities",children:"Entities"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Fixed issue where\xa0",(0,r.jsx)(n.code,{children:"No more entities"}),"\xa0assert failure occurred when flying through biomes during a storm"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"jigsaw",children:"Jigsaw"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Fixed\xa0",(0,r.jsx)(n.code,{children:"world_surface"}),"\xa0type of\xa0",(0,r.jsx)(n.code,{children:"heightmap_projection"}),"\xa0in\xa0",(0,r.jsx)(n.code,{children:"minecraft:jigsaw"}),"\xa0to generate on top of water and leaf blocks."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"json-events",children:"JSON Events"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'The parameter "duration" in the "add_mob_effect" event can now be set to "infinite"'}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"sounds",children:"Sounds"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Added support for entity sound variants"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Entity sounds now have a "variants" field which defines sound variants based on the runtime entity'}),"\n",(0,r.jsx)(n.li,{children:'Variants has a "key" field reading a Molang expression returning a string to select sound variant (eg: querying an enum entity property).'}),"\n",(0,r.jsx)(n.li,{children:'Variants has a "map" field which contains key-value pairs of a variant identifier and the sound events it overrides.'}),"\n",(0,r.jsxs)(n.li,{children:['When playing a sound for an entity we first try to calculate their variant and see if that variant overrides the sound event, if not we play the sound form the base entity. If that fails we fall back to the existing logic of running from "defaults".',(0,r.jsx)(n.br,{}),"\n","Example:",(0,r.jsx)(n.br,{}),"\n","Given a mob with the following property"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:['"minecraft',":emotional_state",'": {\n"type": "enum",\n"values": [ "neutral", "angry", "happy", "sad" ],\n"default": "neutral",\n"client_sync": true\n}']}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Sound variants can be played by querying the property:"}),"\n",(0,r.jsxs)(n.p,{children:['{\n"entity_sounds": {\n"entities": {\n"test_mob": {\n"volume": 1.0,\n"pitch": 1.0,\n// The base sounds for various events\n"events": {\n"ambient": "mob.test_mob.ambient",\n"death": "mob.test_mob.death",\n"step": {\n"sound": "mob.test_mob.step",\n"volume": 0.8,\n"pitch": 1.0\n},\n"attack": "mob.test_mob.attack"\n},\n"variants": {\n// Key returning the enum string for variants, can use any Molang expression resulting in a string\n"key": "query.property(\'minecraft',":emotional_state",'\')",\n"map": {\n// If a resulting variant key is not handled here then it will use the base sounds\n"neutral": {\n"volume": 1.0,\n"pitch": 1.0,\n"events": {\n// If an event is not handled in a variant then it will use the base sound\n"death": "mob.test_mob.death.netural"\n}\n},\n"angry": {\n"volume": 1.0,\n"pitch": 1.0,\n"events": {\n// Variants can override different events than other variants\n"death": "mob.test_mob.death.angry",\n"ambient": "mob.test_mob.ambient.angry"\n}\n}\n}\n}\n}\n}\n}\n}\n}']}),"\n",(0,r.jsx)("h2",{className:"experimental_divider",children:"Experimental Features"}),"\n",(0,r.jsx)(n.h2,{id:"api---scripting-1",children:"API - Scripting"}),"\n",(0,r.jsx)(n.h3,{id:"minecraftserver-200-beta",children:"@minecraft/server 2.0.0-beta"}),"\n",(0,r.jsxs)(n.p,{children:["The beta for\xa0",(0,r.jsx)(n.code,{children:"@minecraft/server"}),"\xa0has been updated to 2.0.0-beta. This signifies that breaking changes have occurred, largely related to script execution timing. Version 1.X will continue to function as-is."]}),"\n",(0,r.jsxs)(n.p,{children:["Visit our\xa0",(0,r.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/minecraft/creator/scriptapi/",children:"documentation portal"}),"\xa0\xa0for more information in the near future."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added new privilege\xa0",(0,r.jsx)(n.code,{children:"EarlyExecution"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"2.0.0-beta and higher now executes with the early execution privilege, scripting below 2.0.0-beta will continue to execute without early execution"}),"\n",(0,r.jsxs)(n.li,{children:["All after and before event signals\xa0subscribe",(0,r.jsx)(n.code,{children:"and"}),"unsubscribe` methods can now be called in early execution"]}),"\n",(0,r.jsxs)(n.li,{children:["The following\xa0",(0,r.jsx)(n.code,{children:"System"}),"\xa0methods can now be called in early execution","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"clearJob"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"clearRun"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"run"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"runInterval"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"runJob"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"runTimeout"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"waitTicks"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BlockComponentRegistry"}),"\xa0method\xa0",(0,r.jsx)(n.code,{children:"registerCustomComponent"}),"\xa0can now be called in early execution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ItemComponentRegistry"}),"\xa0method\xa0",(0,r.jsx)(n.code,{children:"registerCustomComponent"}),"\xa0can now be called in early execution"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"startup"}),"\xa0property to\xa0",(0,r.jsx)(n.code,{children:"SystemBeforeEvents"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"StartupEvent"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"StartupEventSignal"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WorldAfterEvents"}),"\xa0renamed property\xa0",(0,r.jsx)(n.code,{children:"worldInitialize"}),"\xa0to\xa0",(0,r.jsx)(n.code,{children:"worldLoad"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WorldBeforeEvents"}),"\xa0removed property\xa0",(0,r.jsx)(n.code,{children:"worldInitialize"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WorldInitializeAfterEvent"}),"\xa0renamed to\xa0",(0,r.jsx)(n.code,{children:"WorldLoadAfterEvent"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"WorldInitializeAfterEventSignal"}),"\xa0renamed to\xa0",(0,r.jsx)(n.code,{children:"WorldLoadAfterEventSignal"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Removed\xa0",(0,r.jsx)(n.code,{children:"WorldInitializeBeforeEvent"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Removed\xa0",(0,r.jsx)(n.code,{children:"WorldInitializeBeforeEventSignal"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Removed\xa0",(0,r.jsx)(n.code,{children:"Dimension.runCommandAsync"}),"\xa0as most commands did not actually run asynchronously. If you are looking to run a function asynchronously, please investigate using Jobs via\xa0",(0,r.jsx)(n.code,{children:"System.runJob"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"EntityComponent.getEntity"}),"\xa0method throws if the underlying entity is invalid (instead of return undefined previously)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"EntityInventoryComponent.container"}),"property throws if the underlying entity is invalid (instead of return undefined previously)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"isValid"}),"\xa0methods on various classes have been changed to read only properties"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"getComponents"}),",\xa0",(0,r.jsx)(n.code,{children:"getComponent"}),"\xa0and\xa0",(0,r.jsx)(n.code,{children:"hasComponent"}),"\xa0now throw if the Entity is invalid"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"applyKnockback"}),"\xa0method now takes a VectorXZ parameter for the knockback horizontal force (which includes the strength/magnitude), as well as a vertical strength parameter. To convert from V1, you should normalize your previous direction vector and multiply it by the old horizontal strength value. Vertical strength is the same as before."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"EffectType"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"getName"}),"\xa0method now always returns the\xa0",(0,r.jsx)(n.code,{children:"minecraft:"}),"\xa0namespace prefix along with the name"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Effect"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"typeId"}),"\xa0property now always returns the\xa0",(0,r.jsx)(n.code,{children:"minecraft:"}),"\xa0namespace prefix along with the name"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"minecraft:air"}),"\xa0item has been removed (it is still a valid block)"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Promises are now flushed along with after events and system tasks"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"system.waitTicks()"}),"\xa0now can accept an argument bounds of 0 minimum to run this tick"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added a\xa0",(0,r.jsx)(n.code,{children:"GraphicsMode"}),"\xa0enum and\xa0",(0,r.jsx)(n.code,{children:"Player.graphicsMode"}),"\xa0to query a player's current graphics mode on the server."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"system.isEditorWorld"}),"\xa0property into @minecraft/server in beta"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"BlockLocationIterator"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"isValid(): boolean"}),"\xa0method to beta. This method checks if the iterator as been invalidated by modifying the underlining block volume."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"BlockMapColorComponent"}),"\xa0API has been added to beta"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"TintMethod"}),"\xa0enum has been added to beta"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Early execution changes in version @minecraft/server 2.0.0-beta"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The following\xa0",(0,r.jsx)(n.code,{children:"RegistrationBuilder"}),"\xa0methods can now be called in early execution","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"batch"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"maxAttempts"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"maxTicks"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"padding"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"required"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"requiredSuccessfulAttempts"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"rotateTest"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"setupTicks"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"structureName"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"tag"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"register"}),"\xa0function can now be called in early execution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"registerAsync"}),"\xa0function can now be called in early execution"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"api---molang",children:"API - Molang"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Added\xa0",(0,r.jsx)(n.code,{children:"query.graphics_mode_is_any"}),"\xa0to Molang which accepts any of the following parameters:\xa0",(0,r.jsx)(n.code,{children:"simple"}),",\xa0",(0,r.jsx)(n.code,{children:"fancy"}),",\xa0",(0,r.jsx)(n.code,{children:"deferred"}),",\xa0",(0,r.jsx)(n.code,{children:"raytraced"}),". These parameters are all graphics modes that are available in the settings menu."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"graphical",children:"Graphical"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Added a new version (",(0,r.jsx)(n.code,{children:"1.21.70"}),") for the lighting JSON schema in the Deferred Technical Preview. This new version adds support for controlling the intensity of sky light, which affects both the contribution of legacy sky lighting as well as sky reflections. See updated documentation on the Learning Portal for more details."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["This object snippet can be added to\xa0",(0,r.jsx)(n.code,{children:"lighting/global.json"}),"\xa0under the\xa0",(0,r.jsx)(n.code,{children:"minecraft:lighting_settings"}),"\xa0object to control the sky intensity"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:'"sky": {\n"intensity": 1.0 // Float value between [0.1 - 1.0]\n}'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Improved the quality of screen space reflections, specifically cases where holes would appear in reflections at certain angles in the Deferred Technical Preview."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Fixed a bug with water surface rendering that caused specular highlights to be much lower than they should have been in the Deferred Technical Preview."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"stability-and-performance",children:"Stability and Performance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Resolve crash when changing point light shadow settings under Deferred Graphical Settings"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},74450:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>x,frontMatter:()=>c,metadata:()=>a,toc:()=>h});var r=i(74848),s=i(28453),t=i(18228),l=i(19365);const c={},o=void 0,a={id:"components/TechChangelogSwitcher",title:"TechChangelogSwitcher",description:"{props.techSapi}",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/components/TechChangelogSwitcher.mdx",sourceDirName:"components",slug:"/components/TechChangelogSwitcher",permalink:"/en/docs/components/TechChangelogSwitcher",draft:!1,unlisted:!1,editUrl:"https://github.com/AbbottMc/BedrockTechWeekly/tree/master/docs/components/TechChangelogSwitcher.mdx",tags:[],version:"current",frontMatter:{}},d={},h=[];function u(e){return(0,r.jsxs)(t.A,{className:"changelog_sapi_tabs",children:[(0,r.jsx)(l.A,{value:"Update Description",children:e.techSapi}),(0,r.jsx)(l.A,{value:"API Changelog",children:e.techSapiChangelog})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},19365:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(34164);const s={tabItem:"tabItem_Ymn6"};var t=i(74848);function l(e){let{children:n,hidden:i,className:l}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,l),hidden:i,children:n})}},18228:(e,n,i)=>{i.d(n,{A:()=>w});var r=i(96540),s=i(34164),t=i(23104),l=i(56347),c=i(205),o=i(57485),a=i(31682),d=i(89466);function h(e){return function(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:i,attributes:r,default:s}}=e;return{value:n,label:i,attributes:r,default:s}}))}function u(e){const{values:n,children:i}=e;return(0,r.useMemo)((()=>{const e=n??h(i);return function(e){const n=(0,a.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function x(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:i}=e;const s=(0,l.W6)(),t=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,o.aZ)(t),(0,r.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function j(e){const{defaultValue:n,queryString:i=!1,groupId:s}=e,t=u(e),[l,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!x({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=i.find((e=>e.default))??i[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:t}))),[a,h]=p({queryString:i,groupId:s}),[j,m]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,d.Dv)(i);return[s,(0,r.useCallback)((e=>{i&&t.set(e)}),[i,t])]}({groupId:s}),f=(()=>{const e=a??j;return x({value:e,tabValues:t})?e:null})();(0,c.A)((()=>{f&&o(f)}),[f]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!x({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),m(e)}),[h,m,t]),tabValues:t}}var m=i(92303);const f={tabList:"tabList_TRJ7",tabItem:"tabItem_hGfb"};var g=i(74848);function v(e){let{className:n,block:i,selectedValue:r,selectValue:l,tabValues:c,rightElement:o}=e;const a=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),h=e=>{const n=e.currentTarget,i=a.indexOf(n),s=c[i].value;s!==r&&(d(n),l(s))},u=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const i=a.indexOf(e.currentTarget)+1;n=a[i]??a[0];break}case"ArrowLeft":{const i=a.indexOf(e.currentTarget)-1;n=a[i]??a[a.length-1];break}}n?.focus()};return(0,g.jsxs)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":i},n),children:[c.map((e=>{let{value:n,label:i,attributes:t}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>a.push(e),onKeyDown:u,onClick:h,...t,className:(0,s.A)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":r===n}),style:{wordBreak:"keep-all"},children:i??n},n)})),o?(0,g.jsx)("div",{className:"w-full",children:o}):void 0]})}function b(e){let{lazy:n,children:i,selectedValue:s}=e;if(n){const e=i.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=j(e);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,g.jsx)(v,{...e,...n}),(0,g.jsx)(b,{...e,...n})]})}function w(e){const n=(0,m.A)();return(0,g.jsx)(y,{...e},String(n))}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);